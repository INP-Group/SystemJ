# hemera:4 - VEPP BPM subsystem with VME electronics for Rogovsky Yury
# file  driver  bus_id  main_i  biginfo auxinfo
#

# 1 magic deley 0-2
# 2 magic delay 0-1
# 3 magic delay 2-6
# 4 magic deley 1-5

# real drivers
#:bpm01:remdrv  remdrv  0x1000,1  w60,r40  1*100+0i/100+32768i    bivme2/172.16.1.152:bivme2_bpmd,sndbuf=500000,rcvbuf=500000    mgd=0   iz1=+7  iz2=-31 iz3=-17 iz4=-12   id1=340 id2=285 id3=260 id4=215
#:bpm02:remdrv  remdrv  0x2000,2  w60,r40  1*100+0i/100+32768i    bivme2/172.16.1.152:bivme2_bpmd,sndbuf=500000,rcvbuf=500000    mgd=0   iz1=-31 iz2=-11 iz3=+15 iz4=-38   id1=130 id2=90  id3=55  id4=7
#:bpm03:remdrv  remdrv  0x3000,3  w60,r40  1*100+0i/100+32768i    bivme2/172.16.1.152:bivme2_bpmd,sndbuf=500000,rcvbuf=500000    mgd=4   iz1=+65 iz2=+34 iz3=-76 iz4=-1    id1=200 id2=170 id3=145 id4=100
#:bpm04:remdrv  remdrv  0x4000,4  w60,r40  1*100+0i/100+32768i    bivme2/172.16.1.152:bivme2_bpmd,sndbuf=500000,rcvbuf=500000    mgd=3   iz1=+34 iz2=+29 iz3=+53 iz4=-1    id1=330 id2=275 id3=240 id4=200

# stub drivers
:bpm01:host_bpmd    host_bpmd    -    w60,r40    1*100+0i/100+32768i    mgd=0   iz1=+7  iz2=-31 iz3=-17 iz4=-12   id1=340 id2=285 id3=260 id4=215  v5r  scale= 2.9125mA@a:7,s:1024
:bpm02:host_bpmd    host_bpmd    -    w60,r40    1*100+0i/100+32768i    mgd=0   iz1=-31 iz2=-11 iz3=+15 iz4=-38   id1=130 id2=90  id3=55  id4=7    v2k  scale= 2.8451mA@a:7,s:1024
:bpm03:host_bpmd    host_bpmd    -    w60,r40    1*100+0i/100+32768i    mgd=4   iz1=+65 iz2=+34 iz3=-76 iz4=-1    id1=200 id2=170 id3=145 id4=100  v2k  scale= 2.8153mA@a:7,s:1024
:bpm04:host_bpmd    host_bpmd    -    w60,r40    1*100+0i/100+32768i    mgd=3   iz1=+34 iz2=+29 iz3=+53 iz4=-1    id1=330 id2=275 id3=240 id4=200  v2k  scale= 2.9315mA@a:7,s:1024

# conversion drivers
:txz01:bpmd_txzi    bpmd_txzi    -    w60,r40    1*100+0i/100+32768i    src=bpm01.0  bpm_id=01  clb_id=1  iscale=0.0029125  v5r  scale=2.9125mA@a:7,s:1000
:txz02:bpmd_txzi    bpmd_txzi    -    w60,r40    1*100+0i/100+32768i    src=bpm02.0  bpm_id=02  clb_id=2  iscale=0.0028451  v2k  scale=2.8451mA@a:7,s:1000
:txz03:bpmd_txzi    bpmd_txzi    -    w60,r40    1*100+0i/100+32768i    src=bpm03.0  bpm_id=03  clb_id=3  iscale=0.0028153  v2k  scale=2.8153mA@a:7,s:1000
:txz04:bpmd_txzi    bpmd_txzi    -    w60,r40    1*100+0i/100+32768i    src=bpm04.0  bpm_id=04  clb_id=5  iscale=0.0029315  v2k  scale=2.9315mA@a:7,s:1000

# configuration drivers
       bpmd_cfg    bpmd_cfg    -    w30,r20    -     v2k_bpm_1/bpm01:trololo
       bpmd_cfg    bpmd_cfg    -    w30,r20    -     v2k_bpm_2/bpm02:trololo
       bpmd_cfg    bpmd_cfg    -    w30,r20    -     v2k_bpm_3/bpm03:trololo
       bpmd_cfg    bpmd_cfg    -    w30,r20    -     v2k_bpm_4/bpm04:trololo

# sending output new variant
bpmd_txzi_out   bpmd_txzi_out   -   -   -   txz01.0|txz02.0|txz03.0|txz04.0     s_port=10003 t_port=10004
