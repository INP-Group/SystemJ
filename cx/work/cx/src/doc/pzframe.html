<HTML>
<HEAD>
<TITLE>pzframe</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="style.css">
</HEAD>
<BODY>

<H1>pzframe</H1>


		<H2>Введение</H2>

		<H3>"Нужность"</H3>

<P>Существует большое количество измерительной электроники,
отличающейся следующими двумя особенностями:

  <OL>

  <LI>Измерение не скалярное, а имеет большой объём (например,
осциллограмма), и сам процесс измерения имеет некоторое количество
настроечных параметров, без знания которых само по себе измерение
значение (массив) лишено смысла.

  <LI>Измерение может производиться как по внешнему запуску, так и по
внутреннему (программному).

  </OL>

<P>Примеры:

  <UL TYPE=square>

  <LI>Цифровые осциллографы ("быстрые АЦП"): векторный канал измерений
(осциллограмма), настроечные каналы с количеством точек, диапазонами,
управлением таймированием, ...

  <LI>CCD-камеры: векторный канал с изображением, настроечные каналы
для выдержки и коэффициента усиления.

  <LI>ИПП: векторный канал измеренного заряда с проволочек, настроечные
каналы чувствительности/усиления и сдвига начала измерения.

  </UL>


		<H3>"Методология"</H3>

<P>Специфика задачи обуславливает особые правила работы с подобной
электроникой:

  <OL>

  <LI>Результаты измерения должны возвращаться "кортежем": собственно
измерение плюс значения параметров, при которых измерение было
произведено.

<P>Кроме того, требуется возможность заказывать измерение <I>"с
такими-то значениями параметров"</I>.  Например, <I>"взять
осциллограмму из 500 точек с делителем частоты 4 и диапазоном измерения
4 Вольта"</I>.  При неуказании параметра в запросе -- используется
текущее значение.

  <LI>Поскольку внешние запуски могут отсутствовать, то требуются
возможности:

    <UL TYPE=a>

    <LI>Прервать измерение ("стоп").

    <LI>Программно запустить измерение.

    <LI>Режим автоматического программного запуска.

    </UL>

  </OL>

<BLOCKQUOTE><SMALL>

<P><B>Замечание.</B>

<P>Следует учитывать, что не вся обсуждаемая электроника поддерживает
все указанные свойства.  Например, какое-то устройство может
принципиально не иметь возможности программного старта (и даже
останова), и после программирования на ожидание запуска с последующим
измерением просто зависать в ожидании "до победного конца" (или "до
второго пришествия").

<P>В таком случае часть обобщенного функционала просто не будет иметь и
программной реализации (например, команда "Программный запуск" не будет
делать ничего).

<P>Однако полная поддержка таких свойств всё же весьма желательна, и
вышеприведённые правила могут использоваться для проверки
корректности/адекватности дизайна устройств.

</SMALL></BLOCKQUOTE>

		<H3>PzFrame</H3>

<P>Этот обобщённый набор правил, отражённый в ПО (точнее, в наборе
библиотек), получил общее название "pzframe".

<P>О происхождении названия.  Подобные измерения являются как бы
"параметризованными".  Сами измерения можно называть "кадрами" (в
смысле фото/видеосъёмки) -- некий "снимок", сделанный при конкретных
значениях параметров.  Т.е., "параметризованный кадр", по-английски --
"parametrized frame", или сокращённо "pzframe".


		<H2>Состав</H2>

<P>Pzframe состоит из двух частей:

  <OL TYPE=I>

  <LI>На стороне сервера -- pzframe_drv, используемый как "скелет"
драйверов.  Он реализует

    <OL TYPE=1>

    <LI>Идеологию параметризации -- сводя для драйвера работу с
настроечными каналами к примитивам <I>"инициализировать значения
параметров"</I> и <I>"проверить корректность значения параметра"</I>.

    <LI>ВременнУю диаграмму работы (в виде рудиментарной машины
состояний).  Здесь вводятся методы <I>"начать измерения"</I> (с
текущими настройками), <I>"программый старт"</I>, <I>"прервать
измерения"</I> и <I>"вычитать результаты"</I>.

    </OL>

<P><SMALL><I>(В смысле EPICS'а такая штука была бы "типом
рЕкорда".)</I></SMALL>

  <LI>На клиентской стороне два под-компонента:

    <OL TYPE=1>

    <LI>pzframe_data

    <LI>pzframe_gui

    </OL>

  </OL>


		<H2></H2>


		<H2></H2>



</BODY>
</HTML>
