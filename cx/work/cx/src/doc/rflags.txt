	RFLAGS: ЧТО ЭТО ТАКОЕ И С ЧЕМ ИХ ЕДЯТ

	1. Общие положения

	Откуда берутся rflags?  Они возвращаются вместе со значениями
каналов, и cxlib'ом, и cda, и Cdr'ом.  Rflags прилагаются не только к
каждому "обычному" 32-битовому каналу, но и к каждому большому каналу.

	Что такое rflags: это 32-битовое поле, которое частями набивается
разными уровнями -- за младшие 16 бит отвечает сервер с драйверами, а
старшие 16 уставляются cda и Cdr'ом.  Соответственно, разные флаги имеют
чуть разные префиксы:

	- Серверные/драйверные: CXRF_*     -- cx_types.h
	- cda'шные:             CDA_FLAG_* -- cda.h
	- Cdr'овские:           CDR_FLAG_* -- Cdr.h

Некоторые флаги можно считать "группами" -- например, "пожелтение" и
"покраснение".  Такие группы описываются константами типа ***_MASK в
.h-файлах.

	Флаги сервера/драйверов, плюс один флаг cda (CALCERR), будучи
уставленными, приводят к "побагровению" канала, сигнализируя "аппаратную"
проблему.  Флаги же Cdr и второй флаг cda (OTHEROP) используются для
разнообразной цветовой и бибикающей сигнализации, указывающей на проблемы
логические.

	2. Описания флагов

	2.1. Флаги сервера/драйверов:

CXRF_CAMAC_NO_X		No 'X' from device
CXRF_CAMAC_NO_Q		No 'Q' from device
CXRF_IO_TIMEOUT		I/O timeout expired
CXRF_REM_C_PROBL	Remote controller problem
CXRF_OVERLOAD		Input channel overload
CXRF_OFFLINE		Device is offline
CXRF_DRV_PROBL		Driver internal problem
CXRF_NO_DRV		Driver loading problem

	2.2. Флаги cda:

CDA_FLAG_CALCERR	Formula calculation error
CDA_FLAG_OTHEROP	Other operator is active	(оранжевение)

	2.3. Флаги Cdr:

CDR_FLAG_ALARM_ALARM	Alarm!			(бибиканье)
CDR_FLAG_ALARM_RELAX	Relaxing after alarm	(зеленение на 5сек)
CDR_FLAG_COLOR_YELLOW	Value in yellow zone	(пожелтение)
CDR_FLAG_COLOR_RED	Value in red zone	(покраснение)
CDR_FLAG_DEFUNCT	Defunct channel		(погусение)

Группы:
CDR_FLAG_ALARM_MASK    = CDR_FLAG_ALARM_ALARM | CDR_FLAG_ALARM_RELAX
CDR_FLAG_COLOR_MASK    = CDR_FLAG_COLOR_YELLOW | CDR_FLAG_COLOR_RED
CDR_FLAG_HWERR_MASK    = CXRF_SERVER_MASK | CDA_FLAG_CALCERR
CDR_FLAG_SYSERR_MASK   = CDR_FLAG_DEFUNCT | CDR_FLAG_HWERR_MASK

	3. Поддерживающие функции

	Во всех трех библиотеках -- cxlib, cda и Cdr -- есть поддерживающие
функции, по номеру бита флага (НЕ ПО МАСКЕ!) возвращающие его описание.  Это
служит примерно той же цели, что и стандартная функция strerror().

	Функции есть двух вариантов: возвращающие короткое, однословное
описание (совпадает с именем флага, но без префикса), и возвращающие
длинное, человеко-читабельное описание (именно эти описания появляются в
tooltip'е в окне "Channel properties", когда наводишь мышь на номер флага).

	Эти функции: 

	- cxlib: cx.h:  cx_strrflag_short(), cx_strrflag_long();
	- cda:   cda.h: cda_strrflag_short(), cda_strrflag_long();
	- Cdr:   Cdr.h  CdrStrrflagShort(), CdrStrrflagLong().

Каждая более высокоуровневая библиотека автоматически возвращает и более
низкоуровневые флаги (сама спрашивая их уровнем ниже).

	4. Дополнение -- возраст.

	Кроме rflags каждый как обычный, так и большой канал снабжаются
также пометкой о возрасте, в CX именуемой "тэг" (tag).  Тэг -- это байт, тип
tag_t.  Возраст считается в циклах сервера с момента измерения.

	* 0 означает "свежепомеренные" данные.

	* 1-4 сигнализируют легкую несвежесть, обычно это означает что
данные не успевают меряться каждый цикл.

	* 5 и больше чаще всего указывают на неисправность либо аппаратуры
(например, отключенный крейт) либо драйвера.

	* 255 -- максимальное число, помещающееся в байт, равносильно
"бесконечности".

	Если требуется не сам возраст, а лишь флаг "посинелости", то
достаточно пользоваться rflags -- Cdr сигнализирует возраст, больший 5,
флагом CDR_FLAG_DEFUNCT.
